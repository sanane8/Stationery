version: "1.0"

services:
  web:
    build:
      builder: NIXPACKS
    env:
      - PYTHON_VERSION=3.11
    deploy:
      startCommand: "python manage.py runserver 0.0.0.0:$PORT"
      restartPolicyType: ON_FAILURE
      restartPolicyMaxRetries: 10
    healthCheck:
      path: /admin
      timeout: 100
      interval: 30
